{% extends 'copywriting_project/edit.html.twig' %}

{% trans_default_domain 'copywriting' %}

{% block content %}
    <div class="row high-inputs step-rows">
        <div class="col-lg-offset-2 col-lg-6">
            {{ form_start(form) }}

                {{ form_row(form.title) }}
                {{ form_row(form.wordsNumber) }}
                {{ form_row(form.instructions) }}
                <hr>
                <div class="form-group">
                    <label class="control-label bold-label" for="{{ form.metaTitle.vars.id }}">{{ 'form.meta_title'|trans }}</label>
                    <div class="checkbox">
                        <label class="radio-inline">
                            {{ 'attributes.meta_title.description'|trans }}
                            <span class="checkbox_radio_widget_wrapper">
                                <input type="checkbox" id="{{ form.metaTitle.vars.id}}" name="{{ form.metaTitle.vars.full_name}}" {{ form.metaTitle.vars.checked ? 'checked' : '' }} value="1" />
                                <label for="{{ form.metaTitle.vars.id }}"></label>
                            </span>
                        </label>
                        <button type="button"
                                class="info-button-icon"
                                data-toggle="popover"
                                data-placement="auto right"
                                title=""
                                data-content="{{ 'attributes.meta_title.popup_message'|trans }}">
                            <svg><use xlink:href="#info-icon"></use></svg>
                        </button>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label bold-label" for="{{ form.metaDescription.vars.id }}">{{ 'form.meta_description'|trans }}</label>
                    <div class="checkbox">
                        <label class="radio-inline">
                            {{ 'attributes.meta_description.description'|trans }}
                            <span class="checkbox_radio_widget_wrapper">
                                <input type="checkbox" id="{{ form.metaDescription.vars.id}}" name="{{ form.metaDescription.vars.full_name}}"  {{ form.metaDescription.vars.checked ? 'checked' : '' }} value="1" />
                                <label for="{{ form.metaDescription.vars.id }}"></label>
                            </span>
                        </label>
                        <button type="button" class="info-button-icon" data-toggle="popover" data-placement="auto right" title="" data-content="{{ 'attributes.meta_description.popup_message'|trans }}"><svg><use xlink:href="#info-icon"></use></svg></button>
                    </div>
                </div>


                <hr>
                <div class="form-group">
                    <label class="control-label bold-label" for="{{ form.headerOneSet.vars.id }}">{{ 'form.header_one_set'|trans }}</label>
                    <div class="checkbox">
                        <label class="radio-inline">
                            {{ 'attributes.header_h1.description'|trans }}
                            <span class="checkbox_radio_widget_wrapper">
                                    <input type="checkbox" id="{{ form.headerOneSet.vars.id}}" name="{{ form.headerOneSet.vars.full_name}}" {{ form.headerOneSet.vars.checked ? 'checked' : '' }} value="1" />
                                    <label for="{{ form.headerOneSet.vars.id }}"></label>
                                </span>
                        </label>
                        <button type="button" class="info-button-icon" data-toggle="popover" data-placement="auto right" title="" data-content="{{ 'attributes.header_h1.popup_message'|trans }}"><svg><use xlink:href="#info-icon"></use></svg></button>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label bold-label" for="{{ form.headerTwoStart.vars.id }}">{{ 'form.header_two_start_end'|trans }}</label>
                    <div class="form-inline minmaxrange">
                        {{ form_errors(form.headerTwoStart) }}
                        {{ form_errors(form.headerTwoEnd) }}
                        <span class="control-label">{{ 'attributes.headers.part1'|trans }}</span>
                        <div class="input-group">
                            {{ form_widget(form.headerTwoStart) }}
                        </div>
                        <span class="control-label">{{ 'attributes.headers.part2'|trans }}</span>
                        <div class="input-group">
                            {{ form_widget(form.headerTwoEnd) }}
                        </div>
                        <span class="form-control-static">{{ 'attributes.headers.part3'|trans({'%header%': 'H2'}) }}
                            <button type="button" class="info-button-icon" data-toggle="popover" data-placement="auto right" title="" data-content="{{ 'attributes.header_h2.popup_message'|trans }}"><svg><use xlink:href="#info-icon"></use></svg></button>
                        </span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label bold-label" for="{{ form.headerThreeStart.vars.id }}">{{ 'form.header_three_start_end'|trans }}</label>
                    <div class="form-inline minmaxrange">
                        {{ form_errors(form.headerThreeStart) }}
                        {{ form_errors(form.headerThreeEnd) }}
                        <span class="control-label">{{ 'attributes.headers.part1'|trans }}</span>
                        <div class="input-group">
                            {{ form_widget(form.headerThreeStart) }}
                        </div>
                        <span class="control-label">{{ 'attributes.headers.part2'|trans }}</span>
                        <div class="input-group">
                            {{ form_widget(form.headerThreeEnd) }}
                        </div>
                        <span class="form-control-static">{{ 'attributes.headers.part3'|trans({'%header%': 'H3'}) }}
                            <button type="button" class="info-button-icon" data-toggle="popover" data-placement="auto right" title="" data-content="{{ 'attributes.header_h3.popup_message'|trans }}"><svg><use xlink:href="#info-icon"></use></svg></button>
                        </span>

                    </div>
                </div>

                <hr>
                <div class="form-group">
                    <label class="control-label bold-label" for="{{ form.boldText.vars.id }}">{{ 'form.bold_text'|trans }}</label>
                    <span class="inline-block control-label">({{ 'attributes.bold_text.description'|trans }})</span>
                    <div class="form-inline">
                        {{ form_errors(form.boldText) }}
                        <div class="input-group">
                            {{ form_widget(form.boldText) }}
                        </div>
                    </div>
                </div>
                <div class="group-has-bold-label">
                    {{ form_row(form.quotedText) }}
                    {{ form_row(form.italicText) }}
                </div>

                <hr>
                <div class="form-group">
                    <label class="control-label bold-label" for="{{ form.ulTag.vars.id }}">{{ 'form.ul_tag'|trans }} </label>
                    <span class="inline-block control-label"> ({{ 'attributes.ul_tag.description'|trans }})</span>
                    <div class="form-inline">
                        {{ form_errors(form.ulTag) }}
                        <div class="input-group">
                            {{ form_widget(form.ulTag) }}
                        </div>
                    </div>
                </div>

                <hr>
                <div class="form-group">
                    <label class="control-label bold-label" for="{{ form.keywords.vars.id }}">{{ 'form.keywords'|trans }}</label>
                    {{ form_errors(form.keywords) }}
                    {{ form_widget(form.keywords, {
                        'attr': {
                            'class': 'tagsinput',
                            'style': 'opacity: 0; display: block; position: absolute;'
                        }
                    }) }}

                </div>

                <div class="form-group group-has-bold-label">
                    {{ form_label(form.keywordsPerArticleFrom) }}
                    <div class="form-inline">
                        <div class="input-group minmaxrange">
                            {{ form_errors(form.keywordsPerArticleFrom) }}
                            {{ form_widget(form.keywordsPerArticleFrom, { 'attr': {'class': 'm-r-xs form-control_small form-control'} }) }}
                            {{ form_errors(form.keywordsPerArticleTo) }}
                            {{ form_widget(form.keywordsPerArticleTo) }}
                        </div>
                    </div>
                </div>
                <div class="form-group">
                     <label class="control-label bold-label">{{ 'form.insert_keyword'|trans  }}:</label>
                    <div class="row">
                        <div class="col-lg-4">
                            {{ form_row(form.keywordInMetaTitle) }}
                            {{ form_row(form.keywordInHeaderOne) }}
                        </div>
                        <div class="col-lg-4">
                            {{ form_row(form.keywordInHeaderTwo) }}
                            {{ form_row(form.keywordInHeaderThree) }}
                        </div>
                    </div>
                </div>

                <hr>
                <div class="form-group group-has-bold-label">
                    {{ form_label(form.imagesPerArticleFrom) }}
                    <div class="row">
                        <div class="col-lg-5">
                            <div class="input-group minmaxrange">
                                {{ form_errors(form.imagesPerArticleFrom) }}
                                {{ form_widget(form.imagesPerArticleFrom, { 'attr': {'class': 'm-r-xs form-control_small form-control'} }) }}
                                {{ form_errors(form.imagesPerArticleTo) }}
                                {{ form_widget(form.imagesPerArticleTo) }}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">

                    <div class="pull-right">
                        <button type="submit" name="submit" class="btn btn-primary btn">
                            {{ 'save'|trans }}
                        </button>
                    </div>
                </div>

                {% do form.metaTitle.setRendered %}
                {% do form.metaDescription.setRendered %}
                {% do form.headerOneSet.setRendered %}
                {% do form.headerTwoStart.setRendered %}
                {% do form.headerTwoEnd.setRendered %}
                {% do form.headerThreeStart.setRendered %}
                {% do form.headerThreeEnd.setRendered %}

                {% do form.keywords.setRendered %}
                {% do form.images.setRendered %}
                {% do form.express.setRendered %}

            {{ form_end(form) }}
        </div>
    </div>
{% endblock %}

{% block javascript %}
    <script type="text/html" id="article-keywords">
        <div class="form-group">
            <div class="col-sm-3"></div>
            <div class="col-sm-9">
                <div data-bind="attr: { id: 'copywriting_order_keywords_' + $index() }">
                    <div class="form-group">
                        <label class="col-sm-2 control-label required" data-bind="attr: { for: 'copywriting_order_keywords_' + $index() + '_word' }">{{ 'form.word'|trans }}</label>
                        <div class="col-sm-8">
                            <input type="text" data-bind="value: word, valueUpdate: ['afterkeydown', 'input'], attr: { id: 'copywriting_order_keywords_' + $index() + '_word', name: 'copywriting_order[keywords][' + $index() + '][word]' }" required="required" maxlength="50" class="form-control"/>
                        </div>
                        <div class="col-sm-2">
                            <a href="#" class="btn btn-danger remove-btn" data-bind='click: $parent.removeWord' title="{{ 'form.remove_word'|trans }}"><i class="fa fa-times"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <script type="text/html" id="article-images">
        <div class="form-group">
            <div class="col-sm-3"></div>
            <div class="col-sm-9">
                <div data-bind="attr: { id: 'copywriting_order_images_' + $index() }">
                    <div class="form-group">
                        <label class="col-sm-2 control-label required" data-bind="attr: { for: 'copywriting_order_images_' + $index() + '_url' }">Url</label>
                        <div class="col-sm-8">
                            <input type="text" data-bind="value: url, valueUpdate: ['afterkeydown', 'input'], attr: { id: 'copywriting_order_images_' + $index() + '_url', name: 'copywriting_order[images][' + $index() + '][url]' }" required="required" maxlength="350" class="form-control"/>
                        </div>
                        <div class="col-sm-2">
                            <a href="#" class="btn btn-danger remove-btn" data-bind='click: $parent.removeImage' title="{{ 'form.remove_image'|trans }}"><i class="fa fa-times"></i></a>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label required" data-bind="attr: { for: 'copywriting_order_images_' + $index() + '_alt' }">{{ 'form.alt'|trans }}</label>
                        <div class="col-sm-8">
                            <input type="text" data-bind="value: alt, valueUpdate: ['afterkeydown', 'input'], attr: { id: 'copywriting_order_images_' + $index() + '_alt', name: 'copywriting_order[images][' + $index() + '][alt]' }" required="required" maxlength="350" class="form-control"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <script type="text/javascript">
        var initialData = {{(entity|object_serialize|raw)}};
    </script>
{% endblock %}
